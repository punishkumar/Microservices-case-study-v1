package com.onlineshopping.microservices.customerservice;

import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RestController;


@RestController
public class CustomerController {
	
	@Autowired
	CustomerRepository customerRepository;
	
	/*
	 * @GetMapping("") public Customer createCustomer() {
	 * 
	 * }
	 */
	
	@GetMapping("/service1/customers")
	public List<Customer> getCustomers() {
		
		//return new Customer(1234L,"abc@xyz.com","Glen","Max");
		List<Customer> customersList = customerRepository.findAll();
		return customersList;
	}
	
	@PostMapping("/service1/customer")
	public void createOrder(@RequestBody Customer customer) {
		
		customerRepository.save(customer);
		
	}
		

}
